function Swipe(i,a){"use strict";function n(){}var r=function(t){setTimeout(t||n,0)},s={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(i){var u,d,c,o,l=i.children[0];a=a||{};var v=parseInt(a.startSlide,10)||0,f=v,h=!1,m=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var p,x={},E={},w=a.auto||0,t=null,g={},b={},T={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":r(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":r(this.transitionEnd(t));break;case"resize":r(e)}a.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];g={x:n.pageX,y:n.pageY,time:+new Date},p=void 0,b={},l.addEventListener("touchmove",this,!1),l.addEventListener("touchend",this,!1)},move:function(t){if(!(1<t.touches.length||t.scale&&1!==t.scale)){a.disableScroll&&t.preventDefault();var n=t.touches[0];b={x:n.pageX-g.x,y:n.pageY-g.y},void 0===p&&(p=!!(p||Math.abs(b.x)<Math.abs(b.y))),p||(t.preventDefault(),O(),a.continuous?(C(S(v-1),b.x+d[S(v-1)],0),C(v,b.x+d[v],0),C(S(v+1),b.x+d[S(v+1)],0)):(b.x=b.x/(!v&&0<b.x||v==u.length-1&&b.x<0?Math.abs(b.x)/c+1:1),C(v-1,b.x+d[v-1],0),C(v,b.x+d[v],0),C(v+1,b.x+d[v+1],0)))}},end:function(){var t=+new Date-g.time,n=Number(t)<250&&20<Math.abs(b.x)||Math.abs(b.x)>c/2,e=!v&&0<b.x||v==u.length-1&&b.x<0;a.continuous&&(e=!1);var i=b.x<0;p||(n&&!e?(v=i?(a.continuous?(A(S(v-1),-c,0),A(S(v+2),c,0)):A(v-1,-c,0),A(v,d[v]-c,m),A(S(v+1),d[S(v+1)]-c,m),S(v+1)):(a.continuous?(A(S(v+1),c,0),A(S(v-2),-c,0)):A(v+1,c,0),A(v,d[v]+c,m),A(S(v-1),d[S(v-1)]+c,m),S(v-1)),f=h?v%2:v,a.menu&&D(),a.callback&&a.callback(f,u[v])):a.continuous?(A(S(v-1),-c,m),A(v,0,m),A(S(v+1),c,m)):(A(v-1,-c,m),A(v,0,m),A(v+1,c,m))),l.removeEventListener("touchmove",T,!1),l.removeEventListener("touchend",T,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==v&&(w&&I(),a.transitionEnd&&a.transitionEnd.call(t,f,u[v]))}};return e(),a.menu&&function(){for(var t=a.menu.childNodes,n=0;n<t.length;n++)if(t[n].className&&-1!=t[n].className.indexOf("slider-prev"))E.prev=function(t){y(t),O(),N()},x.prev=t[n],L(x.prev,"click",E.prev);else if(t[n].className&&-1!=t[n].className.indexOf("slider-next"))E.next=function(t){y(t),O(),M()},x.next=t[n],L(x.next,"click",E.next);else if(t[n].className&&-1!=t[n].className.indexOf("slider-menu")){for(var e=0;e<o;e++){var i=document.createElement("b");i.innerHTML="â€¢",i.setAttribute("data-index",e.toString()),e==f&&(i.className="active"),L(i,"click",function(n){return function(t){y(t),O(),z(parseInt(this.getAttribute?this.getAttribute("data-index"):n.attributes["data-index"].nodeValue))}}(i)),t[n].appendChild(i)}x.dots=t[n]}}(),w&&I(),s.addEventListener?(s.touch&&l.addEventListener("touchstart",T,!1),s.transitions&&(l.addEventListener("webkitTransitionEnd",T,!1),l.addEventListener("msTransitionEnd",T,!1),l.addEventListener("oTransitionEnd",T,!1),l.addEventListener("otransitionend",T,!1),l.addEventListener("transitionend",T,!1)),window.addEventListener("resize",T,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(t,n){O(),z(t,n)},prev:function(){O(),N()},next:function(){O(),M()},stop:function(){O()},getPos:function(){return f},getNumSlides:function(){return o},kill:function(){O(),l.style.width="",l.style.left="";for(var t=u.length;t--;){var n=u[t];n.style.width="",n.style.left="",s.transitions&&C(t,0,0)}s.addEventListener?(l.removeEventListener("touchstart",T,!1),l.removeEventListener("mousedown",T,!1),l.removeEventListener("webkitTransitionEnd",T,!1),l.removeEventListener("msTransitionEnd",T,!1),l.removeEventListener("oTransitionEnd",T,!1),l.removeEventListener("otransitionend",T,!1),l.removeEventListener("transitionend",T,!1),window.removeEventListener("resize",T,!1)):window.onresize=null,function(){for(var t=x.dots.childNodes;0<t.length;)x.dots.removeChild(t[0]);k(x.prev,"click",E.prev),k(x.next,"click",E.next)}()}}}function e(){u=l.children;for(var t=0;t<u.length;t++)8==u[t].nodeType&&(l.removeChild(u[t]),--t);o=u.length,u.length<2&&(a.continuous=!1),s.transitions&&a.continuous&&u.length<3&&(l.appendChild(u[0].cloneNode(!0)),l.appendChild(l.children[1].cloneNode(!0)),u=l.children,h=!0),d=new Array(u.length),c=i.getBoundingClientRect().width||i.offsetWidth,l.style.width=u.length*c+"px";for(var n=u.length;n--;){var e=u[n];e.style.width=c+"px",e.setAttribute("data-index",n.toString()),s.transitions&&(e.style.left=n*-c+"px",A(n,n<v?-c:v<n?c:0,0))}a.continuous&&s.transitions&&(A(S(v-1),-c,0),A(S(v+1),c,0)),s.transitions||(l.style.left=v*-c+"px"),i.style.visibility="visible"}function L(t,n,e){s.addEventListener?t.addEventListener(n,e,!1):window.attachEvent&&t.attachEvent("on"+n,e)}function y(t){t.returnValue=!1,t.preventDefault&&t.preventDefault()}function k(t,n,e){s.addEventListener?t.removeEventListener(n,e,!1):window.detachEvent&&t.detachEvent("on"+n,e)}function D(){for(var t=0;t<x.dots.children.length;t++){var n=x.dots.children[t];n.className=parseInt(n.getAttribute?n.getAttribute("data-index"):n.attributes["data-index"].nodeValue)==f?"active":""}}function N(){a.continuous?z(v-1):v&&z(v-1)}function M(){a.continuous?z(v+1):v<u.length-1&&z(v+1)}function S(t){return(u.length+t%u.length)%u.length}function z(t,n){if(v!=t){if(s.transitions){var e=Math.abs(v-t)/(v-t);if(a.continuous){var i=e;(e=-d[S(t)]/c)!==i&&(t=-e*u.length+t)}for(var o=Math.abs(v-t)-1;o--;)A(S((v<t?t:v)-o-1),c*e,0);t=S(t),A(v,c*e,n||m),A(t,0,n||m),a.continuous&&A(S(t-e),-c*e,0)}else t=S(t),function(n,e,i){if(!i)return l.style.left=e+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return l.style.left=e+"px",w&&I(),a.transitionEnd&&a.transitionEnd.call(event,f,u[v]),void clearInterval(r);l.style.left=(e-n)*(Math.floor(t/i*100)/100)+n+"px"},4)}(v*-c,t*-c,n||m);v=t,f=h?v%2:v,a.menu&&D(),r(a.callback&&a.callback(f,u[v]))}}function A(t,n,e){C(t,n,e),d[t]=n}function C(t,n,e){var i=u[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+n+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+n+"px)")}function I(){null!==t&&clearTimeout(t),t=setTimeout(function(){t=null,M()},w)}function O(){w=0,clearTimeout(t)}}"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=Swipe),exports.Swipe=Swipe);